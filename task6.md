## Задание №6

## Кодирование ПО

С использованием CLion необходимо разработать программу, реализующую представленные ниже варинаты использования. Фактически это внешняя спецификация программы.

Работать необходимо в том же каталоге куда вы загрузили свой проект с GitLab. (По умолчанию это ~/Desktop/tpro). **Каталог программы task6**. В дальнейшем необходимо придерживаться такого наименования папок проекта и не допускать различных наименований, чтобы преподаватель не путался во всем разнообразии ваших проектов. В данном случае это каталог шестого задания.

Необходимо отредактировать существующий файл CMаkeLists.txt, **добавив** туда дополнительно информацию о новой конфигурации `task6_main` в дополнение к `example_main` и `example_test`.

**НЕ СОЗДАВАТЬ новый проект в CLion**, а в текущем проекте `tpro` добавить новую конфигурацию`task6_main`.

В процессе разработки программы не забывайте периодически сохранять ее на сервере с использованием команд `git`.

Разработанная программа будет использоваться при выполнении следующего задания по тестированию. Загрузка кода одномоментно целиком означает отсутствие использования системы контроля версий Git при своей работе, оценка за это будет снижаться.

Если вы что-то не успели реализовать за отведенное время, то это будет выявлено вами же как ошибка программы при тестировании в рамках следующего задания.

Программа должна состоять минимум из двух файлов:
- `task6.cpp` (и, возможно, `task6.h`) - содержит описание и реализацию функций (описаны далее)
- `main6.cpp` - содержит функцию `main` и реализацию меню, которое вызывает соответствующие функции.

Кроме этого для проверки программы потребуются дополнительные файлы с данными. Файлы необходимо расположить в подкаталоге **data** каталога `task6`. Количество файлов и их название, на усмотрение исполнителя.

При выполнении задания **необходимо использовать систему контроля версий Git**, описание каждого коммита **должно** содержать название задания **task6** и описание изменений в коммите. Частота коммитов на усмотрение разработчика, но содержимое коммитов должно показывать работу над заданием, если это будет просто загрузка кода кусками, то **оценка будет снижаться**.
 
**Варианты испльзования / Внешняя спецификация разрабатываемой программы:**

Программа должна представлять из себя консольное приложение с меню, работающим в бесконечном цикле, меню должно сдержать пункт выхода из программы, а также пункты меню реализующие нижеприведенные варианты использования. Каждый вариант использования реализован в виде отдельной функции, которая принимает на вход некоторые значения и возвращает некоторое значение. Ввод необходимых для работы функции значений с клавиатуры и передача их в функцию осуществляется там же, где реализуется само меню (`main6.cpp`). **Ввод с клавиатуры, и вывод на экран внутри функций запрещен**, работа с функициями только через параметры.
Для вывода на экран использовать стандартные потоки, для работы с файлами использовать файловые потоки.

1. Копирование текстовых файлов. 
- Ввести имя входного и выходного текстового файла. 
- Вызвать функцию копирования файлов
- Вывести на экран количество скопированных строк
- Входные параметры для функции:
    - имя входного файла, файл должен быть текстовым
    - имя выходного файла
- Возвращаемое значение функции:
    - количество скопированных строк или код ошибки (отрицательное число)
- Функция должна производить чтение строк из входного файла и запись в выходной файл. **Если выходной файл не существует**, то он должен создаваться. **Если выходной файл существует**, то информация в него **дописывается**. 

2. Суммирование положительных чисел с плавающей точкой из файла
- Ввести имя входного файла
- Вызвать функцию суммирования чисел из файла
- Вывести на экран сумму чисел
- Входные параметры для функции:
    - имя входного файла, файл должен быть текстовым и содержать положительные числа с плавающей точкой, **разделенные пробелом или переводом строки**, отделение дробной части может быть **как через точку, так и через запятую**. Файл должен содержать только числа в указанном формате.
- Возвращаемое значение функции:
    - сумма чисел из файла или код ошибки (отрицательное число)
- Функция должна просуммировать числа, хранящиеся в файле

3. Шифрование файла. 
- Ввести имя входного и выходного файла
- Ввести ключ шифрования (строка)
- Вызвать функцию шифрования файла с использованием ключа и сохранением в выходной файл
- Вывести на экран количество зашифрованных байт
- Входные параметры для функции
    - имя входного файла
    - имя выходного файла
    - ключ шифрования (строка)
- Возвращаемое значение
    - количество байт, записанных в выходной файл или код ошибки (отрицательное число)
- Функция шифрует входной файл с использованием ключа и операции "исключающее или" (XOR), и записывает результат в выходной файл, при этом **если выходной файл существует, то он перезаписывается**. Ключ необходимо использовать циклически, то есть если, например, ключ состоит из 3-х байт, то первый байт файла шифруется первым байтом ключа, второй - вторым, третий - третьим, четвертый - первым, пятый - вторым и т.д. **Если выходной файл не существует, то он должен создаваться**.

В случае ошибок на экран выводить не только код ошибки, но и текстовое описание. Коды ошибок можно выбрать любые, но они должны позволять различать в дальнейшем ошибки - отсутствие входного или выходного файла, чисел в файле, пустой ключ и т.д.

**Сдачу задания можно осуществлять удаленно**, для этого в issue, необходимо прикрепить скриншоты, показывающие работу программы с файлами данных и результатов, при этом из скриншотов должно быть понятно какие файлы используются и данные файлы должны быть в каталоге **data**. Необходимо использовать разные файлы для разных функций, по крайней мере выходные файлы, чтобы результат выполнения функций не перезаписывал друг друга и сохранялся в отдельных файлах и следовательно в репозитории. Возможно потребуется несколько скриншотов и файлов для демонстрации работы одной функции, чтобы продемонстрировать **все** требуемые варианты использования по заданию. **Все** файлы - входные и выходные данные должны быть добавлены в проект и загружены на сервер для возможности проверки.

**Распространенная ошибка** Не демонстрируется перезапись файла или дописывание в конец. Для возможности демонстрации правильности шифрования третьей функцией необходимо произвести шифрование два раза и использовать три файла: шифрование первого файла во второй, шифрование второго файла в третий. При этом первый и третий файлы должны совпасть (Потому что XOR).

Для удаленной сдачи задания создать в **своем** проекте **issue "Сдача task6"** и назначить его преподавателю (Assignee). Без назначения, он его не увидит.

Если задание принято, то issue закрывается, если есть замечания, то преподаватель ответит вам в issue и переназначит вам обратно.